{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/morten/Development/sleepypod/core/src/utils/transformer.ts"],"sourcesContent":["/**\n * If you need to add transformers for special data types like `Temporal.Instant` or `Temporal.Date`, `Decimal.js`, etc you can do so here.\n * Make sure to import this file rather than `superjson` directly.\n * @see https://github.com/blitz-js/superjson#recipes\n */\nimport superjson from 'superjson';\n\nexport const transformer = superjson;\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AACD;;;;;;AAEO,MAAM,cAAc,6HAAS"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///Users/morten/Development/sleepypod/core/src/server/trpc.ts"],"sourcesContent":["/**\n * This is your entry point to setup the root configuration for tRPC on the server.\n * - `initTRPC` should only be used once per app.\n * - We export only the functionality that we use so we can enforce which base procedures should be used\n *\n * Learn how to create protected base procedures and other things below:\n * @see https://trpc.io/docs/v11/router\n * @see https://trpc.io/docs/v11/procedures\n */\nimport { initTRPC } from '@trpc/server';\nimport { transformer } from '../utils/transformer';\n\nconst t = initTRPC.create({\n  transformer,\n});\n\n/**\n * Unprotected procedure\n **/\nexport const publicProcedure = t.procedure;\n\nexport const router = t.router;\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;;;AACD;AACA;;;;;;;;AAEA,MAAM,IAAI,4IAAQ,CAAC,MAAM,CAAC;IACxB,aAAA,mIAAW;AACb;AAKO,MAAM,kBAAkB,EAAE,SAAS;AAEnC,MAAM,SAAS,EAAE,MAAM"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/morten/Development/sleepypod/core/src/pages/api/trpc/%5Btrpc%5D.ts"],"sourcesContent":["/**\n * This is the API-handler of your app that contains all your API routes.\n * On a bigger app, you will probably want to split this file up into multiple files.\n */\nimport { tracked } from '@trpc/server';\nimport * as trpcNext from '@trpc/server/adapters/next';\nimport { z } from 'zod';\nimport { publicProcedure, router } from '../../../server/trpc';\n\nlet subscriptionIdx = 0;\n\nconst appRouter = router({\n  greeting: publicProcedure\n    // This is the input schema of your procedure\n    // ðŸ’¡ Tip: Try changing this and see type errors on the client straight away\n    .input(\n      z.object({\n        name: z.string().nullish(),\n      }),\n    )\n    .query(({ input }) => {\n      // This is what you're returning to your client\n      return {\n        text: `hello ${input?.name ?? 'world'}`,\n        // ðŸ’¡ Tip: Try adding a new property here and see it propagate to the client straight-away\n      };\n    }),\n  loopData: publicProcedure\n    .input(\n      z\n        .object({\n          lastEventId: z.coerce.number().finite().nonnegative(),\n        })\n        .optional(),\n    )\n    .subscription(async function* (opts) {\n      const id = ++subscriptionIdx;\n\n      let count = opts.input?.lastEventId ?? 0;\n      console.log(\n        `[${id}] ðŸš€ Starting subscription id: ${id} - lastEventId: ${count}`,\n      );\n      try {\n        while (!opts.signal?.aborted) {\n          ++count;\n          console.log(`[${id}] ðŸ”„ loop ${count}`);\n\n          yield tracked(\n            `${count}`,\n            `[${id}] ðŸ“¬ new data (count: ${count}, sub id: ${id})`,\n          );\n          await new Promise((resolve) => setTimeout(resolve, 1000));\n        }\n        console.log(`[${id}] âœ… done`);\n      } catch (error) {\n        console.error(`[${id}] âŒ error`, error);\n      }\n    }),\n  // ðŸ’¡ Tip: Try adding a new procedure here and see if you can use it in the client!\n  // getUser: publicProcedure.query(() => {\n  //   return { id: '1', name: 'bob' };\n  // }),\n});\n\n// export only the type definition of the API\n// None of the actual implementation is exposed to the client\nexport type AppRouter = typeof appRouter;\n\n// export API handler\nexport default trpcNext.createNextApiHandler({\n  router: appRouter,\n  createContext: () => ({}),\n});\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AACD;AACA;AACA;AACA;;;;;;;;;;;;AAEA,IAAI,kBAAkB;AAEtB,MAAM,YAAY,IAAA,wHAAM,EAAC;IACvB,UAAU,iIAAe,AACvB,6CAA6C;IAC7C,4EAA4E;KAC3E,KAAK,CACJ,2GAAC,CAAC,MAAM,CAAC;QACP,MAAM,2GAAC,CAAC,MAAM,GAAG,OAAO;IAC1B,IAED,KAAK,CAAC,CAAC,EAAE,KAAK,EAAE;QACf,+CAA+C;QAC/C,OAAO;YACL,MAAM,CAAC,MAAM,EAAE,OAAO,QAAQ,SAAS;QAEzC;IACF;IACF,UAAU,iIAAe,CACtB,KAAK,CACJ,2GAAC,CACE,MAAM,CAAC;QACN,aAAa,2GAAC,CAAC,MAAM,CAAC,MAAM,GAAG,MAAM,GAAG,WAAW;IACrD,GACC,QAAQ,IAEZ,YAAY,CAAC,gBAAiB,IAAI;QACjC,MAAM,KAAK,EAAE;QAEb,IAAI,QAAQ,KAAK,KAAK,EAAE,eAAe;QACvC,QAAQ,GAAG,CACT,CAAC,CAAC,EAAE,GAAG,+BAA+B,EAAE,GAAG,gBAAgB,EAAE,OAAO;QAEtE,IAAI;YACF,MAAO,CAAC,KAAK,MAAM,EAAE,QAAS;gBAC5B,EAAE;gBACF,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,UAAU,EAAE,OAAO;gBAEtC,MAAM,IAAA,2IAAO,EACX,GAAG,OAAO,EACV,CAAC,CAAC,EAAE,GAAG,sBAAsB,EAAE,MAAM,UAAU,EAAE,GAAG,CAAC,CAAC;gBAExD,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;YACrD;YACA,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE,GAAG,QAAQ,CAAC;QAC9B,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,SAAS,CAAC,EAAE;QACnC;IACF;AAKJ;uCAOe,gMAA6B,CAAC;IAC3C,QAAQ;IACR,eAAe,IAAM,CAAC,CAAC,CAAC;AAC1B"}}]
}